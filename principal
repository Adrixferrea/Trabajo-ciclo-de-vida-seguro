package trabajo.ciclo.de.vida;

import java.io.IOException;
import java.util.Arrays;
import java.util.Scanner;

/**
 *
 * @author Adrián Martín Moro
 */
public class TrabajoCicloDeVida {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) throws IOException {
        int opcion;
        boolean salir = false;
        Scanner sn = new Scanner(System.in);
        Scanner user = new Scanner(System.in);
        Scanner password = new Scanner(System.in);
        Operaciones op = new Operaciones();

        System.out.println("Usuario: ");
        String usuario = user.nextLine();
        System.out.println("Contraseña: ");
        String contraseña = password.nextLine();

        if (op.leerUsuarios(usuario, contraseña) == true) {
            while (!salir) {
                int i = op.ComprobarRol();
                op.ComprobarRolMenu(i);

                System.out.println("6. Salir");

                System.out.println("Escribe una de las opciones");
                opcion = sn.nextInt();

                switch (opcion) {
                    case 1://agrego a un amigo
                        //1=admin 2=gestor 3=ayudante
                        if(op.ComprobarRol() == 1 || op.ComprobarRol() == 2){//compruebo los roles
                           op.agregarAmigo(); 
                        }else{
                            System.out.println("No tienes permisos para realizar esta acción");
                        }
                        
                        break;
                    case 2://muestro los amigos
                        if(op.ComprobarRol() == 1 || op.ComprobarRol() == 2 || op.ComprobarRol() == 3){
                        op.leerAmigos();
                        }else{
                            System.out.println("No tienes permisos para realizar esta acción");
                        }
                        
                        break;
                    case 3://agrego a un nuevo usuario
                        if (op.ComprobarRol() == 1) {
                            op.agregarUsuario();
                        } else {
                            System.out.println("No tienes permisos para realizar esta acción");
                            break;
                        }
                        break;
                    case 4://modifico a un amigo
                        if(op.ComprobarRol() == 1 || op.ComprobarRol() == 2){
                            op.modificarAmigo();
                        }else{
                            System.out.println("No tienes permisos para realizar esta acción");
                        }
                        break;
                    case 5://elimino a un amigo
                        if(op.ComprobarRol() == 1){
                            op.eliminarAmigo();
                        }else{
                            System.out.println("No tienes permisos para realizar esta acción");
                        }
                        break;
                    case 6://salir
                        salir = true;
                        break;
                    default:
                        System.out.println("Solo números entre 1 y 6");
                }

            }
        }else{
            System.out.println("Usuario o contraseña incorrecta");
        }

    }
}
